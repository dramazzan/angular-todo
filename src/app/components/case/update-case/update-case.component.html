<div class="case-container" *ngIf="!loading">
  <h2>Обновить дело</h2>

  <form [formGroup]="updateForm" (ngSubmit)="onSubmit()" class="case-form">
    <div class="form-group">
      <label for="title">Название</label>
      <input id="title" formControlName="title" type="text" />
      <div class="error" *ngIf="updateForm.get('title')?.invalid && updateForm.get('title')?.touched">
        Название обязательно для заполнения.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Описание</label>
      <textarea id="description" formControlName="description" rows="5"></textarea>
      <div class="error" *ngIf="updateForm.get('description')?.invalid && updateForm.get('description')?.touched">
        Описание обязательно для заполнения.
      </div>
    </div>

    <div class="form-group">
      <label for="status">Статус</label>
      <select id="status" formControlName="status">
        <option value="">Выберите статус</option>
        <option value="pending">Ожидает</option>
        <option value="in-progress">В процессе</option>
        <option value="completed">Завершено</option>
      </select>
      <div class="error" *ngIf="updateForm.get('status')?.invalid && updateForm.get('status')?.touched">
        Статус обязателен для выбора.
      </div>
    </div>

    <div class="form-group">
      <label for="priority">Приоритет</label>
      <select id="priority" formControlName="priority">
        <option value="">Выберите приоритет</option>
        <option value="low">Низкий</option>
        <option value="medium">Средний</option>
        <option value="high">Высокий</option>
      </select>
      <div class="error" *ngIf="updateForm.get('priority')?.invalid && updateForm.get('priority')?.touched">
        Приоритет обязателен для выбора.
      </div>
    </div>

    <div class="error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <button type="submit" [disabled]="updateForm.invalid">Обновить дело</button>
  </form>
</div>

<div *ngIf="loading">Загрузка данных дела...</div>
